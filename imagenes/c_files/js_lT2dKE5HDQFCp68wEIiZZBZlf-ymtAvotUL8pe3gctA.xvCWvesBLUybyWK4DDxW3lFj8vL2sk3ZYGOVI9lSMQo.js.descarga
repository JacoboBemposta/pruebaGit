function Plyr_playlist(selector){var playlist=jQuery(selector).attr('playlist');playlist=JSON.parse(playlist);this.id=selector;this.playlist=playlist;if(jQuery(window).width()<767){this.Plyr=new Plyr(selector,{controls:["play","progress","mute","fullscreen"],fullscreen:{iosNative:'false'}})}else this.Plyr=new Plyr(selector);this.current=0;this.length=playlist.length;this.on_ended=function(){};this.on_ready=function(){}};Plyr_playlist.prototype.play_video_at=function(index){var player=this,Plyr=this.Plyr,src=this.playlist[index].src,provider=this.playlist[index].provider;this.current=index;Plyr.source={type:'video',sources:[{src:src,provider:provider}]};Plyr.off('ready');Plyr.on('ready',function(){if(window.innerWidth>1024)Plyr.play();player.enable_playlist_controls();player.on_ready()})};Plyr_playlist.prototype.next=function(){var current=parseInt(this.current),next=(current==this.length-1)?0:current+1;this.play_video_at(next)};Plyr_playlist.prototype.prev=function(){var current=parseInt(this.current),prev=(current==0)?this.length-1:current-1;this.play_video_at(prev)};Plyr_playlist.prototype.enable_secuence=function(){var secuence=this;this.Plyr.on('ended',function(e){secuence.next();secuence.on_ended()});this.Plyr.on('ready',function(){secuence.enable_playlist_controls()})};Plyr_playlist.prototype.enable_playlist_controls=function(){this.disable_playlist_controls();var icon=jQuery('<i/>',{class:'material-icons icon-'+this.id.substr(1)}),play_control='.yt_playlist-'+this.id.substr(1)+' .plyr__controls button.plyr__control[data-plyr="play"]',play_overlay=jQuery('.yt_playlist-'+this.id.substr(1)+' .plyr__control--overlaid'),play_icon=icon.clone().text('play_circle_outline'),prev_icon=icon.clone().text('skip_previous'),next_icon=icon.clone().text('skip_next'),player=this;play_icon.appendTo(play_overlay);prev_icon.insertBefore(play_control);next_icon.insertAfter(play_control);prev_icon.on('click',function(e){e.stopPropagation();player.prev()});next_icon.on('click',function(e){e.stopPropagation();player.next()});if(jQuery(window).width()<767)jQuery('.plyr__control[data-plyr="fullscreen"]').on('click',function(){if(!jQuery(this).hasClass('plyr__control--pressed')){var id=jQuery(this).parents('.yt_playlist').children('.yt_player_title').attr('player_id');yt_vm_playlist.players["#"+id].Plyr.play()}})};Plyr_playlist.prototype.disable_playlist_controls=function(){var id=this.id.substr(1),icons_selector='.material-icons.icon-';jQuery(icons_selector+id).remove()}